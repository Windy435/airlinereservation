<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <!--Stylesheet-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body ng-app="app">
  <div class="container" ng-controller="BookingController as vm">
    <form action="" class="form-horizontal">
      <div uib-collapse="vm.stage !== 0;">
        <div class="form-group" ng-repeat="flight in vm.flights">
          <flight-detail flight-info="flight"></flight-information>
        </div class="form-group">

        <div class="form-group">
          <div class="col-xs-12">
            <a ng-click="vm.AddFlight()">Add flight</a>
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-6 col-sm-3 col-md-3">
            <select class="form-control" ng-model="vm.passengerCount">
              <option value="" selected disabled>Amount of passenger</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <div class="col-xs-12 text-center">
            <button class="btn btn-info" type="button" ng-click="vm.SearchFlight()">Search</button>
          </div>
        </div>
      </div>

      <div uib-collapse="vm.stage !== 1">
        <div ng-repeat="availableFlights in vm.availableFlights">
          <h2>Flight #{{$index}}:</h2>
          <table class="table table-hover">
            <thead>
              <tr>
                <td>Flight Code</td>
                <td>Departure</td>
                <td>Arrival</td>
                <td>Date</td>
                <td>Class</td>
                <td>Seat</td>
                <td>Price</td>
                <td>Action</td>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="availableFlight in availableFlights">
                <td>{{availableFlight.flightId}}</td>
                <td>{{availableFlight.departureId}}</td>
                <td>{{availableFlight.arrivalId}}</td>
                <td>{{availableFlight.date}}</td>
                <td>{{availableFlight.class}}</td>
                <td>{{availableFlight.seat}}</td>
                <td>{{availableFlight.price}}</td>
                <td><button class="btn btn-primary">Choose</button></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="form-group">
          <div class="col-xs-12 text-center">
            <button class="btn btn-default" type="button" ng-click="vm.stage = 0;">Back</button>
          </div>
        </div>
      </div>
      
      <div uib-collapse="vm.stage !== 2">
        <div class="form-group" ng-repeat="passenger in vm.passengers">
          <passenger-information passenger-info="passenger" label="Passenger {{$index + 1}}"></passenger-information>
        </div>

        <div class="form-group">
          <div class="col-xs-12">
            <button class="btn btn-primary" type="button" ng-click="vm.BookFlight()">Book</button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!--MomentJS-->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.2/moment.min.js"></script>
  <!--Angular-->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
  <!--Angular UI Bootstrap-->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.2.0/ui-bootstrap-tpls.js"></script>
  <!-- App scripts -->
  <script type="text/javascript" src="js/app.js"></script>
</body>
</html>